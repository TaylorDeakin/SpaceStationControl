<div class="row">
    <div class="col-sm-9 col-xs-12">
        <div class="row">
            <div class="col-sm-12">
                {{#with station}}
                    {{#with controllingFaction}}
                        <h2>{{name}}<br><span class="station-name">{{../name}}</span></h2>
                    <div id="controlling-faction">
                        <h3 class="heading-info">Status: </h3>
                        <div class="influence-bar influence-bar-control"
                             v-bind:style="{ width: inPower.influence +'%' }"><span
                                class="influence-bar-value">Influence: \{{ inPower.influence }}%</span></div>
                    {{/with}}

                {{/with}}
                <h3 class="heading-info">Balance:</h3>
                <span class="money">\{{ inPower.balance }}</span>
            </div>
                <p class="lead">{{status}}</p>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12">
                <h3>Basic Resources</h3>
                <div class="row">
                    <div class="col-sm-3">
                        <button id="resource-hydrogen" onclick="addResource('hydrogen')" class="btn-block btn-click">
                            Collect
                            Hydrogen
                        </button>
                        <button id="resource-food" onclick="addResource('food')" class="btn-block btn-click">Grow Food
                        </button>
                        <button id="resource-metal" onclick="addResource('metal')" class="btn-block btn-click">Mine
                            Metal
                        </button>
                    </div>
                    <div class="col-md-3">
                        <ul class="list-unstyled list-padded">
                            <li class="resource-output">Hydrogen: <span class="resource-amount">0</span></li>
                            <li class="resource-output">Food: <span class="resource-amount">0</span></li>
                            <li class="resource-output">metal: <span class="resource-amount">0</span></li>
                        </ul>
                    </div>
                    <div class="col-md-3">
                        <ul class="list-unstyled list-padded">
                            <li class="resource-storage">Max Storage: <span id="hydrogen-storage-total"
                                                                            class="resource-amount">2000</span></li>
                            <li class="resource-storage">Max Storage: <span id="food-storage-total"
                                                                            class="resource-amount">2000</span></li>
                            <li class="resource-storage">Max Storage: <span id="metal-storage-total"
                                                                            class="resource-amount">2000</span></li>
                        </ul>
                    </div>
                    <div class="col-md-2">
                        <section id="gather-rates">
                            <ul class="list-unstyled list-padded">
                                <li><span class="resource-gather-rate">0</span>/s</li>
                                <li><span class="resource-gather-rate">0</span>/s</li>
                                <li><span class="resource-gather-rate">0</span>/s</li>
                            </ul>
                        </section>
                    </div>

                </div>
            </div>

        </div>
        <div class="row">
            <div class="col-md-12">
                <h3>Population</h3>

                <div class="row">
                    <div class="col-sm-3">
                        <ul class="list-unstyled ">
                            <li class="resource-output">Workers: <span id="worker-count"
                                                                       class="resource-amount">0</span></li>
                            <li class="resource-output">Max Population: <span id="max-population"
                                                                              class="resource-amount">0</span></li>
                            <li class="resource-output">Food Cost(/s): <span id="food-cost"
                                                                             class="resource-amount">0</span>
                            </li>
                            <li class="resource-output">Unemployed: <span id="unemployed-count"
                                                                          class="resource-amount">0</span></li>
                        </ul>
                        <button id="hire-worker" onclick="population.hireWorker()" class="btn-block btn-click">
                            Hire Worker [20 Food]
                        </button>
                    </div>
                    <div class="col-sm-5">
                        <div class="btn-row">
                            Hydrogen Miners:
                            <span class="btn-group-right">
                                <button onclick="unassignWorker('hydrogen')"
                                        class="btn-click btn-assign">&#129152;</button>
                                <span class="worker-count" id="worker-count-hydrogen">0</span>
                                <button onclick="assignWorker('hydrogen')"
                                        class="btn-click btn-assign">&#129154;</button>
                            </span>

                        </div>
                        <div class="btn-row">
                            Farmers:
                            <span class="btn-group-right">
                                <button onclick="unassignWorker('food')" class="btn-click btn-assign">&#129152;</button>
                                <span class="worker-count" id="worker-count-food">0</span>
                                <button onclick="assignWorker('food')" class="btn-click btn-assign">&#129154;</button>
                            </span>
                        </div>
                        <div class="btn-row">
                            Asteroid Miners:
                            <span class="btn-group-right">
                                <button onclick="unassignWorker('metal')"
                                        class="btn-click btn-assign">&#129152;</button>
                                <span class="worker-count" id="worker-count-metal">0</span>
                                <button onclick="assignWorker('metal')"
                                        class="btn-click btn-assign btn-right">&#129154;</button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <h3>Buildings</h3>
                <div class="row">
                    <div class="col-md-4">
                        <h4>Housing</h4>
                        <button class="btn-block btn-click" onclick="buildings.housing.apartment.purchase()">
                            Apartment<br>[<span id="apartment-cost">50</span> Metal](+2 Population)
                        </button>
                    </div>
                    <div class="col-md-5">
                        <h4>Storage</h4>
                        <button class="btn-block btn-click" onclick="buildings.storage.hydrogen.purchase()">Hydrogen
                            Tank <br>[<span id="hydrogen-storage-cost">100</span> Metal]<br>(+500 Hydrogen Storage)
                        </button>
                        <button class="btn-block btn-click" onclick="buildings.storage.food.purchase()">Food Storage
                            <br>[<span id="food-storage-cost">100</span> Metal]<br>(+500 Food Storage)
                        </button>
                        <button class="btn-block btn-click" onclick="buildings.storage.metal.purchase()">Metal Storage
                            <br>[<span id="metal-storage-cost">100</span> Metal]<br>(+500 Metal Storage)
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <h3>Fleet</h3>
            </div>
        </div>

    </div>
    <aside class="col-sm-3 col-xs-12 station-status">
        <section id="station">
            <h3>System Status</h3>
            <ul class="list-unstyled">
                <li><strong>System: </strong>\{{ system }}</li>
                <li><strong>Known Pirates:</strong> 3</li>
            </ul>
        </section>
        <section id="factions">
            <h3>Rival Factions</h3>
            <ul class="list-unstyled">
                <li v-for="faction in factions">\{{ faction.name }} | <span>\{{ faction.influence }}%</span> <br>
                    <div class="influence-bar" v-bind:style="{ width: faction.influence +'%' }">
                    </div>
                </li>
            </ul>
        </section>
        <section id="news">
            <h3>System News</h3>
            <ul class="list-unstyled list-news">

                <li v-for="news in items"><h4 class="news-title">\{{ news.title }}</h4>
                    <p>\{{ news.body }}</p></li>
                <li><h4>{{#with station}}{{#with controllingFaction}}{{name}} Appoint a new Overseer
                    for{{/with}} {{name}}{{/with}}</h4>
                    <p>Welcome to your new job, Overseer! Your task is to maintain control of this
                        space-station,
                        and grow our economic interests. </p>
                </li>
            </ul>
        </section>
    </aside>
</div>
<script>
    var station = new Vue({
        el: '#station',
        {{#with station}}
            data: {{{jsonString}}}
        {{/with}}
    });

    var news = new Vue({
        el: '#news',
        data: {"items": []}
    });

    var factions = new Vue({
        el: '#factions',
        {{#with station}}
            data: {{{factionString}}}
        {{/with}}
    });

    var controllingFaction = new Vue({
        el: "#controlling-faction",
        {{#with station}}
            {{#with controllingFaction}}
                data: {"inPower": {{{json}}} }
            {{/with}}

        {{/with}}
    });
</script>
<script src="/js/jquery.min.js"></script>
<script src="/js/utility.js"></script>
<script src="/js/events.js"></script>
<script src="/js/clickEvents.js"></script>

<script src="/js/game-loop.js"></script>